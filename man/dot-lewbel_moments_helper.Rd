% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/lewbel-gmm.R
\name{.lewbel_moments_helper}
\alias{.lewbel_moments_helper}
\title{Internal helper for Lewbel moment conditions}
\usage{
.lewbel_moments_helper(
  theta,
  data,
  y1_var,
  y2_var,
  x_vars,
  z_vars,
  add_intercept,
  system = "triangular",
  z_sq = FALSE
)
}
\arguments{
\item{theta}{Numeric vector. Parameters to estimate: c(beta1, gamma1, beta2).}

\item{data}{Data frame containing all required variables. Must include the
dependent variables and any exogenous regressors specified in the model.}

\item{y1_var}{Character. Name of the first dependent variable (default: "Y1").}

\item{y2_var}{Character. Name of the second dependent variable/endogenous regressor (default: "Y2").}

\item{x_vars}{Character vector. Names of exogenous variables (default: "Xk").}

\item{z_vars}{Character vector. Names of heteroskedasticity drivers (default: NULL, uses centered X).}

\item{add_intercept}{Logical. Whether to add an intercept to the exogenous variables.}

\item{system}{Character. "triangular" or "simultaneous"}

\item{z_sq}{Logical. For simultaneous systems, whether to include squared Z terms}
}
\value{
Matrix of moment conditions
}
\description{
Unified function to calculate moment conditions for both triangular
and simultaneous systems in Lewbel's framework.
}
\keyword{internal}
